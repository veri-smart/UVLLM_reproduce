Please act as a professional verilog designer.

Implement a SHA-3 Keccak cryptographic hash function module that processes variable-length input data and produces a 512-bit hash output. The module supports streaming input with byte-level granularity and includes proper flow control mechanisms.

Module name:  
    keccak               
Input ports:
    clk: Clock signal used for synchronous operation.
    reset: Synchronous active high reset signal to initialize the module.
    in[31:0]: 32-bit input data word for the message to be hashed.
    in_ready: Active high signal indicating that input data is valid and ready to be processed.
    is_last: Active high signal indicating that the current input word is the last word of the message.
    byte_num[1:0]: 2-bit signal specifying the number of valid bytes in the last word
Output ports:
    buffer_full: Active high signal indicating that the internal input buffer is full and cannot accept more data.
    out[511:0]: 512-bit hash output
    out_ready: Active high signal indicating that the hash computation is complete and the output is valid.

Modify the error design code below.
